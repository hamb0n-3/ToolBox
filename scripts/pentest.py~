#!/bin/env python3
import sqlite3, logging

def create_logger():
	logger = logging.getLogger(__name__)
	c_handler = logging.StreamHandler()
	f_handler = logging.FileHandler('/home/kali/pentest.log')
	c_handler.setLevel(logging.DEBUG)
	f_handler.setLevel(logging.DEBUG)
	log_format = logging.Formatter('%(levelname)s | %(asctime)s | %(name)s | %(message)s')	
	c_handler.setFormatter(log_format)
	f_handler.setFormatter(log_format)
	logger.addHandler(c_handler)
	logger.addHandler(f_handler)


class Pentester(self):
	
	def __init__(self):
		self.logger = create_logger()

	def log(msg):
		self.logger.debug(msg)
	def logg(msg):
		self.log('---------------------------')
		self.log(msg)
		self.log('---------------------------')

try:
   
    # Connect to DB and create a cursor
    sqliteConnection = sqlite3.connect('pentest.db')
    cursor = sqliteConnection.cursor()
    print('DB Init')
 
    # Write a query and execute it with cursor
    query = 'select sqlite_version();'
    cursor.execute(query)
 
    # Fetch and output result
    result = cursor.fetchall()
    print('SQLite Version is {}'.format(result))
 
    # Close the cursor
    cursor.close()
 
# Handle errors
except sqlite3.Error as error:
    print('Error occurred - ', error)
 
# Close DB Connection irrespective of success
# or failure
finally:
   
    if sqliteConnection:
        sqliteConnection.close()
        print('SQLite Connection closed')

